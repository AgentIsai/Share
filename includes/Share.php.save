<?php

// Die if called outside of MediaWiki
if( !defined( 'MEDIAWIKI' ) ) {
	exit;
}

// Use MediaWikiServices and User to allow for preferences regarding Share and to check if users can see the sidebar links
use MediaWiki\MediaWikiServices;
use MediaWiki\User;

// Class and function
class ShareHooks {
	// Implement Sidebar hook
	public static function onSkinBuildSidebar( Skin $skin, &$bar ) {
		global $wgExtensionAssetsPath, $wgShareFacebook, $wgShareTwitter, $wgShareLinkedIn, $wgShareTumblr, $wgShareReddit, $wgShareEmail, $wgShareUseBasicButtons, $wgShareUsePlainLinks;

		// Get title
		$query = $skin->getRequest()->getQueryValues();
		if ( isset( $query['title'] ) ) {
			unset( $query['title'] );
		}

                // Allows us to get the full URL path without having to use $_SERVER and such
